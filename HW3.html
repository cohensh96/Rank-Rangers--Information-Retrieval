<!DOCTYPE html>
<html lang="he">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>טכנולוגיות בפרויקט</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      direction: rtl; /* כיוון הכתיבה לימין לשמאל */
      text-align: right; /* יישור טקסט לימין */
      margin: 20px;
    }
    p {
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
  <h1>טכנולוגיות מעניינות שבהן השתמשנו בפרויקט</h1>
  
  <p>1. <strong>BeautifulSoup</strong> - טכנולוגיה לעיבוד דפי HTML לצורך חיפוש קישורים וניתוח תכנים מתוך דפי אינטרנט.</p>
  <p>2. <strong>NLTK</strong> - משתמשים ב-NLTK כדי לבצע עיבוד שפה טבעית, ובפרט שימוש ב-PorterStemmer לצורך חיתוך מילים (stemming) שמקטין מילים לשורש שלהן, דבר שיכול לסייע בשיפור ביצועים בתהליך חיפוש.</p>
  <p>3. <strong>Requests</strong> - שימוש בספריית <code>requests</code> לשליחה וקבלת בקשות HTTP, כדי לאסוף נתונים מדפי אינטרנט.</p>
  <p>4. <strong>Pandas</strong> - ספרייה ליצירת DataFrames ולניהול נתונים בצורה מבנית, כך שניתן לשמור את התוצאות לקובץ Excel ולבצע ניתוחים וייצוא נתונים בצורה נוחה.</p>
  <p>5. <strong>Time Delay</strong> - הקוד של הזחלן משתמש ב- <code>time.sleep()</code> כדי להימנע מהעמסת יתר על אתרי אינטרנט במהלך הזחילה והשאילתות בכדי שלא נחסם.</p>
  <p>6. <strong>Regular Expression (re)</strong> - זהו כלי עוצמתי לחיפוש ועיבוד טקסט מבוסס דפוסים. בעזרת <code>re.findall(r'\w+', text)</code> ביצענו חילוץ מדויק של מילים וניתוח תוכן עמודי האינטרנט בצורה גמישה.</p>
  <p>7. <strong>defaultdict</strong> - מאפשר עבודה נוחה עם מילונים. בעזרת <code>defaultdict(int)</code> ביצענו אחסון וספירה של המילים השכיחות ביותר בכל מסמך.</p>
  <p>8. <strong>Math</strong> - שימוש לצורך ביצוע חישובים שונים, כמו חישובי ה-IDF לכל מילה כחלק מחישוב המדד TF-IDF. ספרייה זו מאפשרת חישוב מדויק של משקל מילים במסמכים, על פי תדירות הופעתן.</p>
  <p>9. <strong>Excel Writer עם Openpyxl</strong> - מנוע כתיבה ועריכה של גיליונות Excel כחלק מספריית Pandas. ייצאנו את תוצאות הניתוח, מיפוי ה-URL, ספירת המילים, חישובי ה-TF-IDF לפורמט Excel, מה שסיפק לנו תוצר ברור ומסודר להצגת התוצאות.</p>
  <p>10. <strong>חישובי TF-IDF</strong> - שיטה לחישוב משקל מילים במסמכים בהתבסס על תדירותן במסמך ובקורפוס כולו. ביצענו חישובי משקל מילים עבור שאילתות משתמש והשוואנו למסמכים בזחלן. חישובי ה-TF-IDF שיפרו את איכות החיפוש על ידי דירוג מסמכים רלוונטיים לשאילתת המשתמש.</p>
  <p>11. <strong>IPython Display and Widgets</strong> - השתמשנו בווידג'טים ליצירת ממשקי משוב אינטראקטיביים והצגת התוצאות במחברת Jupyter כחלק מתהליך בקשת משוב רלוונטי.</p>
  <p>12. <strong>NumPy</strong> - משמש לפעולות וקטוריות במערכת משוב הרלוונטיות ולחישובי דמיון קוסינוס ועבור וקטורי ה-TF-IDF.</p>
  <p>13. <strong>PageRank Algorithm</strong> - יישמנו את אלגוריתם זה על מנת לנתח ולדרג את דפי אינטרנט על בסיס מבנה קישורים.</p>
  <p>14. <strong>HITS (Hyperlink-Induced Topic Search Algorithm)</strong> - משמש לניתוח דפי authority וציוני hub.</p>
  <p>15. <strong>Vector Space Model</strong> - מיושם עבור חישובי דמיון מסמכים בתהליך רלוונטיות של משוב (relevance feedback).</p>
  <p>ב.	כמה זמן רצו השאילתות שלכם? במה זה תלוי? האם לדעתכם ניתן לשפר זמן זה?</p>
  <p><h2> זמני הריצה:</strong></h2>
<p><strong>עבור crawling:<strong></p>
  <div class="gallery">
    <img src="images\page1.jpg" alt="Image 1" style="display: block; margin-bottom: 10px; width: 60%; height: auto;">
	<p>עבור שאילתה 1:</p>
	    <img src="images\page1.1.jpg" alt="Image 1.1" style="display: block; margin-bottom: 10px; width: 60%; height: auto;">
	<p>עבור שאילתה 2:</p>
	    <img src="images\page1.2.jpg" alt="Image 1.2" style="display: block; margin-bottom: 10px; width: 60%; height: auto;">
	<p>עבור שאילתה 3:</p>
	    <img src="images\page1.3.jpg" alt="Image 1.3" style="display: block; margin-bottom: 10px; width: 60%; height: auto;">

<h2>גורמים המשפיעים על זמני הריצה </h2>
<p> 
מבנה האתר משפיע רבות על זמני הריצה של הזחלן. מספר הקישורים הפנימיים בכל דף והעומק שאליו הזחלן צריך להגיע משפיעים על הזמן הכולל. אתרים המכילים דפים עשירים בתוכן ובקישורים רבים יכולים להאריך את זמן הזחילה. ככל שמבנה האתר מורכב יותר, כך נדרשת עבודה רבה יותר מהזחלן. מספר הדפים שנסרקים גם הוא גורם משמעותי. בפרויקט הגדרנו גבול של 20 דפים, מה שמגביל את משך הזמן הכולל. עם זאת, ככל שמספר הדפים שנסרקים גדל, זמן הזחילה והאינדוקס מתארך, מאחר ויש לעבד תוכן נוסף ולהתמודד עם יותר קישורים. בנוסף, תהליך עיבוד הטקסט כולל חישובי TF-IDF שדורשים ניתוח מילים, סינון של Stop Words, וביצוע  stemming. למרות זאת, חלק זה של העבודה מהיר יחסית מכיוון שהניתוח מתבצע רק על טקסט שנאסף כבר, ולא במהלך הזחילה. גורם נוסף שעלול להשפיע הינו, חיבור האינטרנט ותשובת השרת משפיעים ישירות על זמני הזחילה. זמני תגובה איטיים של השרת או בעיות יציבות בחיבור האינטרנט יכולים להאריך את זמן הריצה. במיוחד כאשר מתבצע עיבוד על אתרים מרוחקים או עמוסים.
</p>
<h2>הצעות לשיפור זמני הריצה: </h2>
<p>1.	זחילה מקבילית ומבוזרת: במערכת הנוכחית הזחילה מתבצעת בצורה סדרתית, כלומר דף אחר דף, מה שמאריך את זמן הסריקה כאשר ישנם דפים רבים. אפשר לשפר זאת על ידי שימוש בזחלן מקבילי שמריץ מספר תהליכים בו-זמנית או זחלן אסינכרוני. השיטה הזו תאפשר הורדה ועיבוד של דפים במקביל ותקטין משמעותית את הזמן הכולל של תהליך הזחילה.
</p>

  <p>
    <b>2. סינון קישורים מראש:</b> בזמן הזחילה, ניתן להימנע מזחילה לדפים שאינם רלוונטיים כמו עמודי "יצירת קשר" או "תנאי שימוש". 
    באמצעות שימוש בחוקים וסינון מראש על בסיס כתובת האתר או מבנה הדף, ניתן להתמקד רק בתוכן החשוב. 
    כך תחסוך המערכת זמן ותמנע עיבוד מיותר של דפים לא נחוצים.
  </p>
  <p>
    <b>3. מניעת כפילויות:</b> במהלך זחילה, ישנם מקרים שבהם אותו עמוד נסרק מספר פעמים תחת כתובות שונות. 
    שימוש בטכניקות שונות כדי לזהות כפילויות ולמנוע עיבוד חוזר. פתרון זה גם יחסוך בזמן וגם במשאבים.
  </p>
  <p>
    <b>4. שימוש במודלים סמנטיים:</b> מודלים כמו Word2Vec יכולים לשפר את הבנת המילים בשאילתה ולהתאים אותן טוב יותר לתוכן הדפים. 
    לדוגמה, אם המשתמש מחפש ״חולים״, המודל ימצא גם דפים עם המילה "מטופלים". 
    זה יעזור להחזיר תוצאות מדויקות יותר ויקטין את הצורך בחישובים נוספים.
  </p>
  <p>
    <b>5. הרחבת שאילתות:</b> לפעמים, שאילתות קצרות אינן מכסות את כל ההקשרים האפשריים. 
    על ידי הוספת מילים נרדפות או ביטויים קשורים לשאילתה, ניתן לשפר את תוצאות החיפוש ולהקטין את הצורך לחזור על השאילתה בשינויים.
  </p>
  <p>
    <b>6. רלוונטיות דינאמית:</b> ניתן לשפר את תוצאות השאילתות על ידי שימוש בפידבק מהמשתמש, שבו המערכת לומדת אילו תוצאות היו מועילות 
    ומעדכנת את משקלי החיפוש. שיטה זו תייעל את תהליך החיפוש ותפחית את זמן החישוב הדרוש לתוצאות עתידיות.
  </p>
</div>
<p>באמצעות שיפורים אלו ניתן להאיץ את זמן הזחילה, להפחית את העומס, ולהביא לתוצאות מדויקות ויעילות יותר בזמן קצר יותר. <p>
<h2>סעיף ג: האם בדפים שהוחזרו קיימים hubs? Authorities? נמקו.</h2>


<!DOCTYPE html>
<html lang="he">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hubs ו-Authorities</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            direction: rtl;
            text-align: right;
        }
        h1, h2, h3 {
            color: #333;
        }
        p {
            margin-bottom: 10px;
        }
        .code {
            font-family: 'Courier New', Courier, monospace;
            background-color: #f4f4f4;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>

    <h2>Hubs ו-Authorities</h2>

    <h2>Hubs</h2>
    <p>Hub הוא דף שמכיל הרבה קישורים איכותיים לדפים אחרים בנושא. ניתן לזהות את ה-Hubs על ידי:</p>
    <ul>
        <li>בדיקת המידע שנאסף על ידי פונקציית <code>get_links()</code> עבור כל URL.</li>
        <li>הדפים עם מספר הקישורים היוצאים הגבוה ביותר הם פוטנציאליים להיות Hubs.</li>
    </ul>

    <h2>Authorities</h2>
    <p>Authority הוא דף שמקבל הרבה קישורים מדפים אחרים איכותיים. כלומר, זהו דף שאליו מפנים הרבה Hubs אחרים.</p>
    <p>על מנת לענות על סעיף זה, הוספנו את הפונקציה <code>analyze_link_structure</code>, אשר מנתחת את מבנה הקישורים בקרב 20 הדפים שנסרקו, תוך שימוש באלגוריתם HITS. פונקציה זו מבצעת ניתוח מעמיק של מבנה הקישורים, תוך התחשבות הן בכמות הקישורים והן באיכותם.</p>

    <p>הפונקציה מחשבת ומציגה את 5 הדפים עם מספר הקישורים היוצאים הגבוה ביותר (Hubs) ואת 5 הדפים עם מספר הקישורים הנכנסים הגבוה ביותר (Authorities).</p>

    <h2>חישוב ה-Hubs וה-Authorities</h2>
    <p>לאחר הרצת הקוד, אנו מקבלים פלט שמראה את ה-Hubs וה-Authorities הפוטנציאליים מתוך 20 הדפים שנסרקו. הפלט כולל את המידע הבא:</p>
    <ul>
        <li><strong>URL ID</strong> – מזהה הדף.</li>
        <li><strong>כתובת URL מלאה</strong>.</li>
        <li><strong>מספר הקישורים היוצאים והנכנסים</strong>.</li>
    </ul>

    <h3>החישוב מתבצע באופן הבא:</h3>

    <h4>1. חישוב ה-Hubs (קישורים יוצאים)</h4>
    <p>עבור כל דף:</p>
    <ul>
        <li>אנו עושים fetch לתוכן הדף.</li>
        <li>אנו מוציאים את כל הקישורים מסוג <code>&lt;a href="..."&gt;</code> באמצעות פונקציית <code>get_links()</code>.</li>
        <li>סופרים את מספר הקישורים ושומרים במבנה הנתונים <code>outgoing_links</code> שמכיל את כל הדפים שהדף מקשר אליהם.</li>
    </ul>

    <h4>2. חישוב ה-Authorities (קישורים נכנסים)</h4>
    <p>אנו עוברים על 20 הדפים שנסרקו:</p>
    <ul>
        <li>כאשר אנו מוצאים קישור בדף, אנו בודקים אם הקישור מוביל לדף שכבר סרקנו.</li>
        <li>אם כן, אנו מגדילים את מונה הקישורים הנכנסים לדף היעד ומעדכנים את מבנה הנתונים <code>incoming_links</code>, שמכיל את כל הדפים שמקשרים לדף מסוים.</li>
    </ul>

    <h2>אלגוריתם HITS</h2>
    <p>אנו מריצים את אלגוריתם HITS כאשר בהתחלה כל דף מקבל ציון התחלתי של 1.0 עבור Hubs ו-Authorities. לאחר מכן אנו מבצעים את הפעולות הבאות באיטרציות עד להתכנסות:</p>
    <ul>
        <li>עדכון ציוני Authority – כל דף מקבל ציון המבוסס על סכום ציוני ה-Hub של הדפים המקשרים אליו.</li>
        <li>נרמול ציוני Authority.</li>
        <li>עדכון ציוני Hub – כל דף מקבל ציון המבוסס על סכום ציוני ה-Authority של הדפים שהוא מקשר אליהם.</li>
        <li>נרמול ציוני Hub.</li>
        <li>בדיקת התכנסות – האם השינוי בציונים קטן מסף מסוים.</li>
    </ul>

    <p>לאחר הריצה, אנו ממיינים את הדפים לפי מספר הקישורים היוצאים או הנכנסים ומציגים את 5 הדפים המובילים בכל קטגוריה עם המידע הבא:</p>
    <ul>
        <li><strong>URL ID</strong> – מזהה הדף.</li>
        <li><strong>כתובת URL מלאה</strong>.</li>
        <li><strong>ציון ה-Hub או Authority</strong> – מדד איכותי המשקלל את חשיבות הדף במבנה הרשת.</li>
        <li><strong>מספר הקישורים היוצאים או נכנסים</strong>.</li>
    </ul>

    <p>דף נחשב לHub טוב לא רק אם יש לו הרבה קישורים יוצאים, אלא אם הוא מקשר לדפים שהם Authorities טובים. דף נחשב לAuthority טוב לא רק אם יש לו הרבה קישורים נכנסים, אלא אם הוא מקושר על ידי Hubs טובים.</p>
<h2>תוצאות הרצת האלגוריתם: </h2>



    <img src="images\page2.jpg" alt="Image 2" style="display: block; margin-bottom: 10px; width: 90%; height: auto;">
    <h2>סעיף ד׳</h2>
    <p>בחרו 10 דפים שהזחלן החזיר, ואשר יש ביניהם קישורים. חשבו PageRank לכל דף, מומלץ להיעזר בסקריפט מוכן. הציגו את החישובים ואת הדירוג הסופי.</p>

    <p>השתמשנו בסקריפט המוכן מההרצאה לחישוב ה-PageRank לכל דף.</p>
    <p>הקוד שכתבנו בוחר 10 דפים שיש ביניהם קישורים הדדיים מתוך כל הדפים שהוחזרו. ה-10 דפים שנבחרים הם הדפים שיש להם יותר קישורים כדי להבטיח קישוריות טובה.</p>
    <p>כל דף מקבל ערך התחלתי של <code>1/n</code> כאשר <code>n</code> הוא מספר הדפים.</p>

    <h3>חישוב ה-PageRank</h3>
    <p>עבור כל דף מחושב ערך PageRank חדש בכל איטרציה על פי הנוסחה:</p>
    <div class="code">
        rank_sum = sum(current_ranks[source_page] / len(outgoing_links[source_page]))
    </div>
    <p>בעזרת נוסחה זו אנו סוכמים את התרומות מכל הדפים שמקשרים לדף הנוכחי. התרומה של כל דף מקשר היא ערך ה-PageRank שלו חלקי מספר הקישורים היוצאים ממנו.</p>

    <h3>סיום התהליך</h3>
    <p>בסוף התהליך מחושב הדף עם ה-PageRank הגדול ביותר. דירוג זה מייצג את חשיבות הדף במונחי מבנה הקישורים:</p>
    <ul>
        <li>אם דף מקבל קישורים מהרבה דפים חשובים (כלומר, הרבה דפים בעלי PageRank גבוה), הוא יקבל ציון גבוה.</li>
        <li>אם דף מקבל קישור מדף שיש לו הרבה קישורים יוצאים, התרומה לציון שלו תהיה קטנה יותר כי היא מתחלקת בין כל הקישורים היוצאים.</li>
    </ul>

    <h3>פלט:</h3>
    <p>עבור כל דף מציגים את הדפים אליהם הוא מפנה:</p>
    <img src="images\page3.1.jpg" alt="Image 3.1" style="display: block; margin-bottom: 10px; width: 80%; height: auto;">
    <img src="images\page3.2.jpg" alt="Image 3.2" style="display: block; margin-bottom: 10px; width: 60%; height: auto;">
 <h1>סעיף ה: שיפור תוצאות עם Feedback Relevance</h1>
    <p>
        גם פה השתמשנו בסקריפט עבור feedback relevance שהוצג בהרצאה ושילבנו אותו עם הקוד שלנו.
        כל משתמש מבין שני מהמשתמשים מסמן דפים כרלוונטיים או לא רלוונטיים וזה מדרג מחדש את סדר הופעת הדפים.
    </p>
    <p>
        עבור הדירוג מחדש אנחנו משתמשים באלגוריתם Rocchio עבור משוב רלוונטי, האלגוריתם משנה את הווקטורים של המסמכים בהתבסס על משוב המשתמשים. 
        הדירוג מחדש מתבצע ע״י שימוש בדמיון קוסינוס וTF-IDF.
    </p>
    <p>
        לשיפור השאילתה :
        האלגוריתם מנתח מונחים מדפים רלוונטיים ולא רלוונטיים ומציע מונחי שאילתה חדשים בהתבסס על תדירויות מונחים, כלומר המערכת לומדת מהבחירות של המשתמש כדי להציע שאילתה טובה יותר.
        כאשר המשתמש מסמן דף כרלוונטי המערכת מחפשת אילו מילים מופיעות הרבה בעמוד זה. מילים אלו מקבלות ״ניקוד בונוס״. 
        לעומת זאת כשהמשתמש מסמן עמוד כלא רלוונטי המילים שמופיעות בו מקבלות ״נקודות עונש״. 
        בסוף התהליך המערכת בוחרת את חמשת המילים עם הכי הרבה נקודות חיוביות ומשתמשת בהן כדי ליצור שאילתה חדשה. 
        הרעיון באלגוריתם זה הוא מיקוד המערכת ע״י בחירת הרלוונטיות של המשתמש, המערכת משתמשת במידע זה כדי לנחש טוב יותר מה המשתמש מחפש.
    </p>
    <p>
        שימוש במונחי השאילתה המוצעים יאפשרו לצמצם חיפושים עתידיים ולשפר את התוצאות על סמך משוב המשתמשים.
    </p>
    <div class="feedback">
        <h2>עבור משתמש 1:</h2>
        <div class="user-feedback">
            <p>בחירות רלוונטיות/לא רלוונטיות של משתמש 1 :</p>
          
    <img src="images\page5.jpg" alt="Image 5" style="display: block; margin-bottom: 10px; width: 90%; height: auto;">
    <p>עדכון הניקוד וסדר הדפים</p>
	<img src="images\page6.jpg" alt="Image 6" style="display: block; margin-bottom: 10px; width: 80%; height: auto;">
	<p>שאילתה מותאמת על מנת לשפר תוצאות על סמך הבחירות של משתמש 1:</p>
    <img src="images\page7.jpg" alt="Image 7" style="display: block; margin-bottom: 10px; width: 80%; height: auto;">
	<p>עבור משתמש 2 :</p> 
<p>בחירות רלוונטיות/לא רלוונטיות של משתמש 2 :</p>
    <img src="images\page8.jpg" alt="Image 8" style="display: block; margin-bottom: 10px; width: 80%; height: auto;">
<p>עדכון הניקוד וסדר הדפים:</p>
    <img src="images\page9.jpg" alt="Image 9" style="display: block; margin-bottom: 10px; width: 80%; height: auto;">
<p>שאילתה מותאמת על מנת לשפר תוצאות על סמך הבחירות של משתמש 2:</p>
    <img src="images\page10.jpg" alt="Image 10" style="display: block; margin-bottom: 10px; width: 60%; height: auto;">

  </div>


</body>
</html>
